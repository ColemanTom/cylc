<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Task Job Submission, Poll and Kill</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,fn-in,2,next --> 
<meta name="src" content="cug-html.tex"> 
<meta name="date" content="2014-04-30 16:42:00"> 
<link rel="stylesheet" type="text/css" href="cug-html.css"> 
</head><body 
>
   <!--l. 4410--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse12.html" >next</a>] [<a 
href="cug-htmlse10.html" >prev</a>] [<a 
href="cug-htmlse10.html#tailcug-htmlse10.html" >prev-tail</a>] [<a 
href="#tailcug-htmlse11.html">tail</a>] [<a 
href="cug-html.html#cug-htmlse11.html" >up</a>] </p></div>
   <h3 class="sectionHead"><span class="titlemark">11   </span> <a 
 id="x12-13900011"></a>Task Job Submission, Poll and Kill</h3>
   <div class="sectionTOCS">
   &#x00A0;<span class="subsectionToc" >11.1 <a 
href="#x12-14000011.1">Job Poll And Kill Support</a></span>
<br />   &#x00A0;<span class="subsectionToc" >11.2 <a 
href="#x12-14200011.2">Task Job Scripts</a></span>
<br />   &#x00A0;<span class="subsectionToc" >11.3 <a 
href="#x12-14300011.3">Supported Job Submission Methods</a></span>
<br />   &#x00A0;<span class="subsectionToc" >11.4 <a 
href="#x12-15200011.4">Task stdout And stderr Logs</a></span>
<br />   &#x00A0;<span class="subsectionToc" >11.5 <a 
href="#x12-15300011.5">Overriding The Job Submission Command</a></span>
<br />   &#x00A0;<span class="subsectionToc" >11.6 <a 
href="#x12-15400011.6">Defining New Job Submission Methods</a></span>
   </div>
<!--l. 4413--><p class="indent" >   <span 
class="cmti-10">Task Implementation </span>(Section&#x00A0;<a 
href="cug-htmlse10.html#x11-13100010">10<!--tex4ht:ref: TaskImplementation --></a>) describes what requirements a command, script, or program, must fulfill in
order to function as a cylc task. This section explains how tasks are submitted by cylc when they are ready to run,
and how to define new task job submission methods.
<!--l. 4419--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.1   </span> <a 
 id="x12-14000011.1"></a>Job Poll And Kill Support</h4>
<!--l. 4421--><p class="noindent" >For most job submission methods cylc now supports polling for real task status, and job kill, from the gcylc GUI
and command line (<span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">poll</span></span> and <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">kill</span></span>). In addition to on-demand polling, submitted and running tasks
are polled automatically on suite restart (Section&#x00A0;<a 
href="cug-htmlse12.html#x13-16600012.7">12.7<!--tex4ht:ref: RestartingSuites --></a>) and on job submission and execution timeouts, and one-way
polling can be used as regular health check for submitted tasks, and to track tasks on hosts that do not allow return
routing for task messaging (Section&#x00A0;<a 
href="cug-htmlse12.html#x13-15700012">12<!--tex4ht:ref: RunningSuites --></a>).
<!--l. 4431--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.1.1   </span> <a 
 id="x12-14100011.1.1"></a>Exceptions</h5>
<!--l. 4433--><p class="noindent" >Task poll and kill support has not yet been added to the <span 
class="cmti-10">SGE </span>and <span 
class="cmti-10">slurm </span>job submission methods. It will be added
in an upcoming release.
<!--l. 4437--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.2   </span> <a 
 id="x12-14200011.2"></a>Task Job Scripts</h4>
<!--l. 4440--><p class="noindent" >When a task is ready to run cylc generates a temporary <span 
class="cmti-10">task job script </span>to configure the task&#8217;s execution environment
and call its command scripting. The job script is the embodiment of all suite.rc runtime settings for the task. It is
submitted to run by the <span 
class="cmti-10">job submission method </span>configured for the task. Different tasks can have different job
submission methods. Like other runtime properties, you can set a suite default job submission method and override
it for specific tasks or families:  <!--l. 4449--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">root</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">defaults</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">loadleveler</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">just</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-142007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">at</span>





   </div>
<!--l. 4459--><p class="indent" >   As shown in the Tutorial Section&#x00A0;<a 
href="cug-htmlse7.html#x8-370007.11">7.11<!--tex4ht:ref: RunningSuitesCLI --></a>, job scripts are saved to the suite run directory; the commands used to
submit them are printed to stdout by cylc; and they can be printed with the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">log</span></span> command or new ones
generated and printed with the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">jobscript</span></span> command. Take a look at one to see exactly how cylc wraps and
runs your tasks.
<!--l. 4466--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.3   </span> <a 
 id="x12-14300011.3"></a>Supported Job Submission Methods</h4>
<!--l. 4469--><p class="noindent" >Cylc supports a number of commonly used job submission methods, and Section&#x00A0;<a 
href="#x12-15400011.6">11.6<!--tex4ht:ref: DefiningNewJobSubmissionMethods --></a> shows how to add support for
other user-defined job submission methods.
<!--l. 4473--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.1   </span> <a 
 id="x12-14400011.3.1"></a>background</h5>
<!--l. 4475--><p class="noindent" >Runs tasks directly in a background shell.
<!--l. 4477--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.2   </span> <a 
 id="x12-14500011.3.2"></a>at</h5>
<!--l. 4479--><p class="noindent" >Submits tasks to the rudimentary Unix <span class="lstinline"><span 
class="pcrr7t-">at</span></span> scheduler. The <span class="lstinline"><span 
class="pcrr7t-">atd</span></span> daemon must be running.
<!--l. 4482--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.3   </span> <a 
 id="x12-14600011.3.3"></a>loadleveler</h5>
<!--l. 4484--><p class="noindent" >Submits tasks to loadleveler by the <span class="lstinline"><span 
class="pcrr7t-">llsubmit</span></span> command. Loadleveler directives can be provided in the suite.rc
file:
   <!--l. 4488--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">__NAME__</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">baz</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">qux</span>


   </div>
<!--l. 4495--><p class="indent" >   These are written to the top of the task job script like this:  <!--l. 4497--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146006r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bash</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146007r2"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">DIRECTIVES</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146008r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">@</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">=</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">bar</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146009r4"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">@</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">baz</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">=</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">qux</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-146010r5"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">@</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">queue</span>


   </div>
<!--l. 4505--><p class="indent" >   If restart=yes is specified as a directive for loadleveler, the job will automatically trap SIGUSR1, which
loadleveler may use to preempt the job. On trapping SIGUSR1, the job will inform the suite that it
has been vacated by loadleveler. This will put it back to the submitted state, until it starts running
again.
<!--l. 4511--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.4   </span> <a 
 id="x12-14700011.3.4"></a>pbs</h5>
<!--l. 4513--><p class="noindent" >Submits tasks to PBS (or Torque) by the <span class="lstinline"><span 
class="pcrr7t-">qsub</span></span> command. PBS directives can be provided in the suite.rc file:
<!--l. 4516--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">__NAME__</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">q</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">l</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">nodes</span><span 
class="pcrr7t-">=1,</span><span 
class="pcrr7t-">walltime</span><span 
class="pcrr7t-">=00:01:00'</span>





   </div>
<!--l. 4523--><p class="indent" >   These are written to the top of the task job script like this:  <!--l. 4525--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147006r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bash</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147007r2"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">DIRECTIVES</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147008r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">PBS</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">q</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-147009r4"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">PBS</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">l</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">nodes</span><span 
class="pcrro7t-">=1,</span><span 
class="pcrro7t-">walltime</span><span 
class="pcrro7t-">=00:01:00</span>


   </div>
<!--l. 4532--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.5   </span> <a 
 id="x12-14800011.3.5"></a>sge</h5>
<!--l. 4534--><p class="noindent" >Submits tasks to Sun/Oracle Grid Engine by the <span class="lstinline"><span 
class="pcrr7t-">qsub</span></span> command. SGE directives can be provided in the suite.rc
file:  <!--l. 4537--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">__NAME__</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">cwd</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">q</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">l</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">h_data</span><span 
class="pcrr7t-">=1024</span><span 
class="pcrr7t-">M</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">h_rt</span><span 
class="pcrr7t-">=24:00:00'</span>


   </div>
<!--l. 4545--><p class="indent" >   These are written to the top of the task job script like this:  <!--l. 4547--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148007r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bash</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148008r2"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">DIRECTIVES</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148009r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro8c-">$</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">cwd</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148010r4"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro8c-">$</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">q</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">foo</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-148011r5"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro8c-">$</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">l</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">h_data</span><span 
class="pcrro7t-">=1024</span><span 
class="pcrro7t-">M</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">h_rt</span><span 
class="pcrro7t-">=24:00:00</span>


   </div>
<!--l. 4555--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.6   </span> <a 
 id="x12-14900011.3.6"></a>slurm</h5>
<!--l. 4557--><p class="noindent" >Submits tasks to Simple Linux Utility for Resource Management by the <span class="lstinline"><span 
class="pcrr7t-">sbatch</span></span> command. SLURM directives can
be provided in the suite.rc file (note that since not all SLURM commands have a short form, cylc requires the long
form directives):  <!--l. 4562--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">__NAME__</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">nodes</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">5</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149005r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">time</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">1:00:00</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">account</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">QXZ5W2</span>


   </div>
<!--l. 4570--><p class="indent" >   These are written to the top of the task job script like this:  <!--l. 4572--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149007r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bash</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149008r2"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">SBATCH</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">--</span><span 
class="pcrro7t-">nodes</span><span 
class="pcrro7t-">=5</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149009r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">SBATCH</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">--</span><span 
class="pcrro7t-">time</span><span 
class="pcrro7t-">=1:00:00</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-149010r4"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">SBATCH</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">--</span><span 
class="pcrro7t-">account</span><span 
class="pcrro7t-">=</span><span 
class="pcrro7t-">QXZ5W2</span>


   </div>
<!--l. 4579--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.7   </span> <a 
 id="x12-15000011.3.7"></a>Default Directives Provided</h5>
<!--l. 4581--><p class="noindent" >For job submission methods that use job file directives (PBS, Loadlevler, etc.) default directives are provided to set
the job name and stdout and stderr file paths.
<!--l. 4585--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.3.8   </span> <a 
 id="x12-15100011.3.8"></a>Cylc Quirks (PBS,SGE,...) </h5>
<!--l. 4587--><p class="noindent" >As shown in the example above, multiple entries for the same PBS or SGE directive option must be
comma-separated on the same line, in the suite.rc file. Otherwise, repeating the option on another
line will override the previous entry, not add to it. Also, the right-hand side must be quoted to hide
the comma from the suite.rc parser (commas indicate list values, whereas directives are treated as
singular).
                                                                                         

                                                                                         
<!--l. 4594--><p class="indent" >   As also shown in the example above, to get a naked option flag such as <span class="lstinline"><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">cwd</span></span> in SGE you must give a quoted
blank space as the directive value in the suite.rc file.
<!--l. 4598--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.4   </span> <a 
 id="x12-15200011.4"></a>Task stdout And stderr Logs</h4>
<!--l. 4601--><p class="noindent" >When a task is ready to run cylc generates a filename root to be used for the task job script and log files. The
filename containing the task name, cycle time (or integer tag), and a submit number that increments if the same
task is re-triggered multiple times:  <!--l. 4606--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-152001r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">job</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">script</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-152002r2"></a></span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">tut</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">oneoff</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">basic</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">hello</span><span 
class="pcrr7t-">.1.1</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-152003r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">stdout</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-152004r4"></a></span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">tut</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">oneoff</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">basic</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">hello</span><span 
class="pcrr7t-">.1.</span><span 
class="pcrr7t-">out</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-152005r5"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">task</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">stderr</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-152006r6"></a></span><span 
class="pcrr7t-">~/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">run</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">tut</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">oneoff</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">basic</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">log</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">hello</span><span 
class="pcrr7t-">.1.</span><span 
class="pcrr7t-">err</span>


   </div>
<!--l. 4615--><p class="indent" >   How the stdout and stderr streams are directed into these files depends on the job submission method.
The <span class="lstinline"><span 
class="pcrr7t-">background</span></span> method just uses appropriate output redirection on the command line, as shown
above. The <span class="lstinline"><span 
class="pcrr7t-">loadleveler</span></span> method writes appropriate directives to the job script that is submitted to
loadleveler.
<!--l. 4621--><p class="indent" >   Cylc obviously has no control over the stdout and stderr output from tasks that do their own internal
output management (e.g.&#x00A0;tasks that submit internal jobs and direct the associated output to other
files). For less internally complex tasks, however, the files referred to here will be complete task job
logs.
<!--l. 4627--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.5   </span> <a 
 id="x12-15300011.5"></a>Overriding The Job Submission Command</h4>
<!--l. 4631--><p class="noindent" >To change the form of the actual command used to submit a job you do not need to define a new job submission
method; just override the <span class="lstinline"><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">template</span></span> in the relevant job submission sections of your suite.rc file:
<!--l. 4635--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-153001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-153002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">root</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-153003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-153004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">loadleveler</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-153005r5"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">Use</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">'-</span><span 
class="pcrro7t-">s</span><span 
class="pcrro7t-">'</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">stop</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">llsubmit</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">returning</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">until</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">all</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">job</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">steps</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">have</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">completed</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-153006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">command</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">template</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">llsubmit</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">%</span><span 
class="pcrr7t-">s</span>


   </div>
<!--l. 4643--><p class="indent" >   As explained in the suite.rc reference (Appendix&#x00A0;<a 
href="cug-htmlse17.html#x18-212000A">A<!--tex4ht:ref: SuiteRCReference --></a>), the template&#8217;s first %s will be substituted by the job file
path and, where applicable a second and third %s will be substituted by the paths to the job stdout and stderr
files.
<!--l. 4648--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">11.6   </span> <a 
 id="x12-15400011.6"></a>Defining New Job Submission Methods</h4>
<!--l. 4651--><p class="noindent" >Defining a new job submission method requires a little Python programming. You can derive (in the sense of object
oriented programming inheritance) new methods from one of the existing ones, or directly from cylc&#8217;s job submission
base class,  <!--l. 4656--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-154001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_DIR</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">lib</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job_submission</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job_submit</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">py</span>


   </div>
<!--l. 4659--><p class="indent" >   using the existing job submission methods as examples.
                                                                                         

                                                                                         
<!--l. 4662--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.6.1   </span> <a 
 id="x12-15500011.6.1"></a>An Example</h5>
<!--l. 4664--><p class="noindent" >The following user-defined job submission class, called <span 
class="cmti-10">qsub</span>, overrides the built-in <span 
class="cmti-10">pbs </span>class to change the directive
prefix from <span class="lstinline"><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">PBS</span></span> to <span class="lstinline"><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span></span>:
   <!--l. 4668--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155001r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">!/</span><span 
class="pcrro7t-">usr</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">bin</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">env</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">python</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155003r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">to</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">import</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">from</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">outside</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">of</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">cylc</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">source</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">tree</span><span 
class="pcrro7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155004r4"></a></span><span 
class="pcrb7t-">from</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">job_submission</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">pbs</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">import</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pbs</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155005r5"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">OR</span><span 
class="pcrro7t-">,</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">from</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro8c-">$</span><span 
class="pcrro7t-">CYLC_DIR</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">lib</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">cylc</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">job_submission</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155006r6"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">from</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pbs</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">import</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">pbs</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155008r8"></a></span><span 
class="pcrb7t-">class</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">qsub</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pbs</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155009r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155010r10"></a></span></span><span 
class="pcrr7t-">This</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">is</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">user</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">defined</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">that</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">overrides</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'#</span><span 
class="pcrr7t-">PBS</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155011r11"></a></span></span><span 
class="pcrr7t-">directive</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">prefix</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">of</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">the</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">built</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">in</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pbs</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155012r12"></a></span></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155013r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">def</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">set_directives</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">):</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155014r14"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pbs</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">set_directives</span><span 
class="pcrr7t-">(</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">)</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155015r15"></a></span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">override</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">the</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">'#</span><span 
class="pcrro7t-">PBS</span><span 
class="pcrro7t-">'</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">directive</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">prefix</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155016r16"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">self</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">directive_prefix</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">#</span><span 
class="pcrr7t-">QSUB</span><span 
class="pcrr7t-">"</span>


   </div>
<!--l. 4687--><p class="indent" >   To check that this works correctly save the new source file to <span class="lstinline"><span 
class="pcrr7t-">qsub</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">py</span></span> in one of the allowed locations (see just
below), use it in a suite definition:  <!--l. 4691--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155017r1"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">SUITE</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">rc</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155018r2"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro8c-">$</span><span 
class="pcrro7t-">HOME</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">test</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">suite</span><span 
class="pcrro7t-">.</span><span 
class="pcrro7t-">rc</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155019r3"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">scheduling</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155020r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">dependencies</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155021r5"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">graph</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">"</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155022r6"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">runtime</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155023r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">root</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155024r8"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">submission</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155025r9"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">method</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">qsub</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155026r10"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[[</span><span 
class="pcrr7t-">directives</span><span 
class="pcrr7t-">]]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155027r11"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">I</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">baz</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155028r12"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">l</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">nodes</span><span 
class="pcrr7t-">=1,</span><span 
class="pcrr7t-">walltime</span><span 
class="pcrr7t-">=00:01:00'</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155029r13"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">cwd</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">'</span>


   </div>
<!--l. 4706--><p class="indent" >   and generate a job script to see the resulting directives:  <!--l. 4708--><div class="lstlisting">
<span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155030r1"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">db</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">reg</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">test</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrb7t-">test</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155031r2"></a></span><span 
class="pcrr7t-">shell</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">jobscript</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrb7t-">test</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">a</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">|</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">grep</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">QSUB</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155032r3"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">e</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">home</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">hilary</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">cylc</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">run</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">pbs</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">log</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">job</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">a</span><span 
class="pcrro7t-">.1.1.</span><span 
class="pcrro7t-">err</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155033r4"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">l</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">nodes</span><span 
class="pcrro7t-">=1,</span><span 
class="pcrro7t-">walltime</span><span 
class="pcrro7t-">=00:01:00</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155034r5"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">o</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">home</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">hilary</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">cylc</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">run</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">pbs</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">log</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">job</span><span 
class="pcrro7t-">/</span><span 
class="pcrro7t-">a</span><span 
class="pcrro7t-">.1.1.</span><span 
class="pcrro7t-">out</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155035r6"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">N</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">a</span><span 
class="pcrro7t-">.1</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155036r7"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">I</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">bar</span><span 
class="pcrro7t-">=</span><span 
class="pcrro7t-">baz</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x12-155037r8"></a></span><span 
class="pcrro7t-">#</span><span 
class="pcrro7t-">QSUB</span><span 
class="pcrro7t-">&#x00A0;</span><span 
class="pcrro7t-">-</span><span 
class="pcrro7t-">cwd</span>


   </div>
<!--l. 4719--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">11.6.2   </span> <a 
 id="x12-15600011.6.2"></a>Where To Put New Job Submission Modules</h5>
<!--l. 4721--><p class="noindent" >You new job submission class code should be saved to a file with the same name as the class (plus &#8220;.py&#8221; extension).
It can reside in any of the following locations, depending on how generally useful the new method is and whether or
not you have write-access to the cylc source tree:
     <ul class="itemize1">
     <li class="itemize">a <span class="lstinline"><span 
class="pcrr7t-">python</span></span> sub-directory of your suite definition directory.
     </li>
     <li class="itemize">any directory in, or added to, your <span class="lstinline"><span 
class="pcrr7t-">PYTHONPATH</span></span> environment variable.
     </li>
     <li class="itemize">in the <span class="lstinline"><span 
class="pcrr7t-">lib</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job_submission</span></span> directory of the cylc source tree.</li></ul>
<!--l. 4734--><p class="noindent" >Note that the form of the import statement at the top of the new user-defined Python module differs depending on
whether or not the file is installed in the cylc source tree (see the comment at the top of the example file
above).
                                                                                         

                                                                                         
   <!--l. 4743--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse12.html" >next</a>] [<a 
href="cug-htmlse10.html" >prev</a>] [<a 
href="cug-htmlse10.html#tailcug-htmlse10.html" >prev-tail</a>] [<a 
href="cug-htmlse11.html" >front</a>] [<a 
href="cug-html.html#cug-htmlse11.html" >up</a>] </p></div>
<!--l. 4743--><p class="indent" >   <a 
 id="tailcug-htmlse11.html"></a>    
</body></html> 
