<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Suite.rc Reference</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,fn-in,2,next --> 
<meta name="src" content="cug-html.tex"> 
<meta name="date" content="2015-10-15 12:44:00"> 
<link rel="stylesheet" type="text/css" href="cug-html.css"> 
</head><body 
>
   <!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse16.html" >prev</a>] [<a 
href="cug-htmlse16.html#tailcug-htmlse16.html" >prev-tail</a>] [<a 
href="#tailcug-htmlse17.html">tail</a>] [<a 
href="cug-html.html#cug-htmlse17.html" >up</a>] </p></div>
<!--l. 1--><p class="indent" >    <h3 id="A" class="sectionHead"><span class="titlemark"> <a href="#A">A</a>  <a 
 id="x18-224000A"></a>Suite.rc Reference </span></h3> <div class="sectionTOCS">
   &#x00A0;<span class="subsectionToc" >A.1 <a 
href="#x18-225000A.1">Top Level Items</a></span>
<br />   &#x00A0;<span class="subsectionToc" >A.2 <a 
href="#x18-229000A.2">[cylc]</a></span>
   </div>
<!--l. 6--><p class="indent" >   This appendix defines all legal suite definition config items. Embedded Jinja2 code (see&#x00A0;<a 
href="cug-htmlse9.html#x10-1270009.6">9.6<!--tex4ht:ref: Jinja2 --></a>) must process
to a valid raw suite.rc file. See also&#x00A0;<a 
href="cug-htmlse9.html#x10-680009.2">9.2<!--tex4ht:ref: SuiteRCFile --></a> for a descriptive overview of suite.rc files, including syntax
(<a 
href="cug-htmlse9.html#x10-690009.2.1">9.2.1<!--tex4ht:ref: Syntax --></a>).
<!--l. 11--><p class="noindent" >
<!--l. 11--><p class="indent" >    <h4 id="A.1" class="subsectionHead"> <span class="titlemark"> <a href="#A.1"> A.1</a>  <a 
 id="x18-225000A.1"></a>Top Level Items </span></h4>
<!--l. 13--><p class="indent" >   The only top level configuration items at present are the suite title and description.
<!--l. 16--><p class="noindent" >
<!--l. 16--><p class="indent" >    <h4 id="A.1.1" class="subsubsectionHead"><span class="titlemark"> <a href="#A.1.1"> A.1.1</a>  <a 
 id="x18-226000A.1.1"></a>title </span></h4>
<!--l. 18--><p class="indent" >   A single line description of the suite. It is displayed in the db viewer window and can be retrieved at run time
with the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">show</span></span> command.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>single line string
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>(none)</li></ul>
<!--l. 27--><p class="noindent" >
<!--l. 27--><p class="indent" >    <h4 id="A.1.2" class="subsubsectionHead"><span class="titlemark"> <a href="#A.1.2"> A.1.2</a>  <a 
 id="x18-227000A.1.2"></a>description </span></h4>
<!--l. 29--><p class="indent" >   A multi-line description of the suite. It can be retrieved by the db viewer right-click menu, or at run time with
the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">show</span></span> command.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>multi-line string
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>(none)</li></ul>
                                                                                         

                                                                                         
<!--l. 37--><p class="noindent" >
<!--l. 37--><p class="indent" >    <h4 id="A.1.3" class="subsubsectionHead"><span class="titlemark"> <a href="#A.1.3"> A.1.3</a>  <a 
 id="x18-228000A.1.3"></a>URL </span></h4>
<!--l. 39--><p class="indent" >   A web URL to suite documentation. If present it can be browsed with the <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">doc</span></span> command, or from the
gcylc Suite menu. The variable <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_SUITE_NAME</span><span 
class="pcrr7t-">}</span></span> will be replaced with the actual suite name (note this is not
a shell environment variable in this context). See also task URLs (<span 
class="cmbx-10">??</span>).
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>string (URL)
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>(none)
     </li>
     <li class="itemize"><span 
class="cmti-10">example: </span><span class="lstinline"><span 
class="pcrr7t-">http</span><span 
class="pcrr7t-">://</span><span 
class="pcrr7t-">suites</span><span 
class="pcrr7t-">/</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_SUITE_NAME</span><span 
class="pcrr7t-">}/</span><span 
class="pcrr7t-">index</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">html</span></span></li></ul>
<!--l. 51--><p class="noindent" ><span 
class="cmbx-12">]</span>
<!--l. 51--><p class="indent" >    <h4 id="A.2" class="subsectionHead"> <span class="titlemark"> <a href="#A.2"> A.2</a>  <a 
 id="x18-229000A.2"></a>[cylc] </span></h4>
<!--l. 53--><p class="indent" >   This section is for configuration that is not specifically task-related.
<!--l. 55--><p class="noindent" >
<!--l. 55--><p class="indent" >    <h4 id="A.2.1" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.1"> A.2.1</a>  <a 
 id="x18-230000A.2.1"></a> [cylc] <span 
class="cmsy-10">&#x2192; </span>required run mode </span></h4>
<!--l. 57--><p class="indent" >   If this item is set cylc will abort if the suite is not started in the specified mode. This can be used for demo
suites that have to be run in simulation mode, for example, because they have been taken out of their
normal operational context; or to prevent accidental submission of expensive real tasks during suite
development.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>string
     </li>
     <li class="itemize"><span 
class="cmti-10">legal values: </span>live, dummy, simulation
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>None</li></ul>
<!--l. 68--><p class="noindent" >
<!--l. 68--><p class="indent" >    <h4 id="A.2.2" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.2"> A.2.2</a>  <a 
 id="x18-231000A.2.2"></a> [cylc] <span 
class="cmsy-10">&#x2192; </span>UTC mode </span></h4>
<!--l. 71--><p class="indent" >   Cylc runs off the suite host&#8217;s system clock by default. This item allows you to run the suite in UTC
even if the system clock is set to local time. Clock-trigger tasks will trigger when the current UTC
time is equal to their cycle point date-time plus offset; other time values used, reported, or logged by
the suite daemon will usually also be in UTC. The default for this can be set at the site level (see
&#x00A0;<span 
class="cmbx-10">??</span>).
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>False, unless overridden at site level.</li></ul>
                                                                                         

                                                                                         
<!--l. 83--><p class="noindent" >
<!--l. 83--><p class="indent" >    <h4 id="A.2.3" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.3"> A.2.3</a>  <a 
 id="x18-232000A.2.3"></a> [cylc] <span 
class="cmsy-10">&#x2192; </span>cycle point format </span></h4>
<!--l. 86--><p class="indent" >   To just alter the timezone used in the date/time cycle point format, see <a 
href="#x18-234000A.2.5">A.2.5<!--tex4ht:ref: cycle-point-time-zone --></a>. To just alter the number of
expanded year digits (for years below 0 or above 9999), see <a 
href="#x18-233000A.2.4">A.2.4<!--tex4ht:ref: cycle-point-num-expanded-year-digits --></a>.
<!--l. 91--><p class="indent" >   Cylc usually uses a <span class="lstinline"><span 
class="pcrr7t-">CCYYMMDDThhmmZ</span></span> (<span class="lstinline"><span 
class="pcrr7t-">Z</span></span> in the special case of UTC) or <span class="lstinline"><span 
class="pcrr7t-">CCYYMMDDThhmm</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">hhmm</span></span> format (<span class="lstinline"><span 
class="pcrr7t-">+</span></span>
standing for <span class="lstinline"><span 
class="pcrr7t-">+</span></span> or <span class="lstinline"><span 
class="pcrr7t-">-</span></span> here) for writing down date/time cycle points, which follows one of the basic formats outlined in
the ISO 8601 standard. For example, a cycle point on the 3rd of February 2001 at 4:50 in the morning, UTC (+0000
timezone), would be written <span class="lstinline"><span 
class="pcrr7t-">20010203</span><span 
class="pcrr7t-">T0450Z</span></span>. Similarly, for the the 3rd of February 2001 at 4:50 in the morning,
+1300 timezone, cylc would write <span class="lstinline"><span 
class="pcrr7t-">20010203</span><span 
class="pcrr7t-">T0450</span><span 
class="pcrr7t-">+1300</span></span>.
<!--l. 101--><p class="indent" >   You may use the isodatetime library&#8217;s syntax to write dates and times in ISO 8601 formats - <span class="lstinline"><span 
class="pcrr7t-">CC</span></span> for century, <span class="lstinline"><span 
class="pcrr7t-">YY</span></span>
for decade and decadal year, <span class="lstinline"><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">X</span></span> for expanded year digits and their positive or negative sign, thereafter following the
ISO 8601 standard example notation except for fractional digits, which are represented as <span class="lstinline"><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">ii</span></span> for <span class="lstinline"><span 
class="pcrr7t-">hh</span></span>, <span class="lstinline"><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">nn</span></span> for <span class="lstinline"><span 
class="pcrr7t-">mm</span></span>,
etc. For example, to write date/times as week dates with fractional hours, set cycle point format to
<span class="lstinline"><span 
class="pcrr7t-">CCYYWwwDThh</span><span 
class="pcrr7t-">,</span><span 
class="pcrr7t-">iiZ</span></span> e.g. <span class="lstinline"><span 
class="pcrr7t-">1987</span><span 
class="pcrr7t-">W041T08</span><span 
class="pcrr7t-">,5</span><span 
class="pcrr7t-">Z</span></span> for 08:30 UTC on Monday on the fourth ISO week of
1987.
<!--l. 111--><p class="indent" >   You can also use a subset of the strptime/strftime POSIX standard - supported tokens are <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">F</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">H</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">M</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">S</span></span>,
<span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">Y</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">d</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">j</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">m</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">s</span></span>, <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">z</span></span>.
<!--l. 116--><p class="indent" >   To use the old cylc date-time format (e.g. <span class="lstinline"><span 
class="pcrr7t-">2014020106</span></span> for 06:00 on the 1st of February 2014), set cycle point
format to <span class="lstinline"><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">Y</span><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">m</span><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">d</span><span 
class="pcrr7t-">\%</span><span 
class="pcrr7t-">H</span></span>.
<!--l. 120--><p class="indent" >   Please note that using characters like &#8221;/&#8221; is not allowed, as it will break task output files (&#8221;/&#8221; is a reserved
character in POSIX file and directory naming). Using &#8221;:&#8221; is also not allowed, as it is likely to interfere with usage of
commands like &#8221;rsync&#8221; when applied to task output files.
<!--l. 126--><p class="noindent" >
<!--l. 126--><p class="indent" >    <h4 id="A.2.4" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.4"> A.2.4</a>  <a 
 id="x18-233000A.2.4"></a> [cylc] <span 
class="cmsy-10">&#x2192; </span>cycle point num expanded year digits </span></h4>
<!--l. 129--><p class="indent" >   For years below 0 or above 9999, the ISO 8601 standard specifies that an extra number of year digits and a sign
should be used. This extra number needs to be written down somewhere (here).
<!--l. 133--><p class="indent" >   For example, if this extra number is set to 2, 00Z on the 1st of January in the year 10040 will be represented as
<span class="lstinline"><span 
class="pcrr7t-">+0100400101</span><span 
class="pcrr7t-">T0000Z</span></span> (2 extra year digits used). With this number set to 3, 06Z on the 4th of May 1985 would be
written as <span class="lstinline"><span 
class="pcrr7t-">+00019850504</span><span 
class="pcrr7t-">T0600Z</span></span>.
<!--l. 138--><p class="indent" >   This number defaults to 0 (no sign or extra digits used).
<!--l. 141--><p class="noindent" >
<!--l. 141--><p class="indent" >    <h4 id="A.2.5" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.5"> A.2.5</a>  <a 
 id="x18-234000A.2.5"></a> [cylc] <span 
class="cmsy-10">&#x2192; </span>cycle point time zone </span></h4>
<!--l. 144--><p class="indent" >   If you set UTC mode to True (<a 
href="#x18-231000A.2.2">A.2.2<!--tex4ht:ref: UTC-mode --></a>) then this will default to <span class="lstinline"><span 
class="pcrr7t-">Z</span></span>. If you use a custom cycle point format (<a 
href="#x18-232000A.2.3">A.2.3<!--tex4ht:ref: cycle-point-format --></a>),
you should specify the timezone choice (or null timezone choice) here as well.
<!--l. 149--><p class="indent" >   You may set your own time zone choice here, which will be used for all date/time cycle point dumping. Time
zones should be expressed as ISO 8601 time zone offsets from UTC, such as <span class="lstinline"><span 
class="pcrr7t-">+13</span></span>, <span class="lstinline"><span 
class="pcrr7t-">+1300</span></span>, <span class="lstinline"><span 
class="pcrr7t-">-0500</span></span> or <span class="lstinline"><span 
class="pcrr7t-">+0645</span></span>, with <span class="lstinline"><span 
class="pcrr7t-">Z</span></span>
representing the special <span class="lstinline"><span 
class="pcrr7t-">+0000</span></span> case. Cycle points will be converted to the time zone you give and will be
represented with this string at the end.
<!--l. 156--><p class="indent" >   Cycle points that are input without time zones (e.g. as an initial cycle point setting) will use this time zone if
set. If this isn&#8217;t set (and UTC mode is also not set), then they will default to the current local time
zone.
<!--l. 160--><p class="indent" >   Note that the ISO standard also allows writing the hour and minute separated by a &#8221;:&#8221; (e.g. <span class="lstinline"><span 
class="pcrr7t-">+13:00</span></span>) - however,
this is not recommended, given that the time zone is used as part of task output filenames.
                                                                                         

                                                                                         
<!--l. 164--><p class="noindent" >
<!--l. 164--><p class="indent" >    <h4 id="A.2.6" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.6"> A.2.6</a>  <a 
 id="x18-235000A.2.6"></a>[cylc] <span 
class="cmsy-10">&#x2192; </span>abort if any task fails </span></h4>
<!--l. 166--><p class="indent" >   Cylc does not normally abort if tasks fail, but if this item is turned on it will abort with exit status 1 if any task
fails.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>False</li></ul>
<!--l. 174--><p class="noindent" >
<!--l. 174--><p class="indent" >    <h4 id="A.2.7" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.7"> A.2.7</a>  <a 
 id="x18-236000A.2.7"></a>[cylc] <span 
class="cmsy-10">&#x2192; </span>log resolved dependencies </span></h4>
<!--l. 176--><p class="indent" >   If this is turned on cylc will write the resolved dependencies of each task to the suite log as it becomes ready to
run (a list of the IDs of the tasks that actually satisfied its prerequisites at run time). Mainly used for cylc testing
and development.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>False</li></ul>
<!--l. 186--><p class="noindent" >
<!--l. 186--><p class="indent" >    <h4 id="A.2.8" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.8"> A.2.8</a>  <a 
 id="x18-237000A.2.8"></a>[cylc] <span 
class="cmsy-10">&#x2192; </span>[[event hooks]] </span></h4>
<!--l. 189--><p class="indent" >   Cylc has internal &#8220;hooks&#8221; to which you can attach handlers that are called by the suite daemon whenever certain
events occur. This section configures suite event hooks; see&#x00A0;<span 
class="cmbx-10">??</span> for task event hooks.
<!--l. 194--><p class="indent" >   Event handlers can send an email or an SMS, call a pager, intervene in the operation of their own suite, or
whatever. They can be held in the suite bin directory, otherwise it is up to you to ensure their location is in <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span></span>
(in the shell in which cylc runs, on the suite host). <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">hook</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">email</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">suite</span></span> is a simple suite event
handler.
<!--l. 201--><p class="indent" >   Suite event handlers are called by the suite daemon with the following arguments: <!--l. 202-->
   <div class="lstlisting" id="listing-245"><span class="label"><a 
 id="x18-237001r1"></a></span><span 
class="pcrr7t-">&#x003C;</span><span 
class="pcrr7t-">suite</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">event</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x003E;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">EVENT</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">SUITE</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">MESSAGE</span>
   
   </div>
<!--l. 205--><p class="indent" >   where,
     <ul class="itemize1">
     <li class="itemize">EVENT - event name (see below)
     </li>
     <li class="itemize">SUITE - suite name
     </li>
     <li class="itemize">MESSAGE - describes what has happened.</li></ul>
<!--l. 212--><p class="indent" >   Additional information can be passed to event handlers via [cylc] <span 
class="cmsy-10">&#x2192; </span>[[environment]].
                                                                                         

                                                                                         
<!--l. 215--><p class="noindent" >
<!--l. 215--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-238000A.2.8.1"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[event hooks]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">EVENT handler</span></span>
   A comma-separated list of one or more event handlers to call when one of the following EVENTs
occurs:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10">startup </span>- the suite has started running
     </li>
     <li class="itemize"><span 
class="cmbx-10">shutdown </span>- the suite is shutting down
     </li>
     <li class="itemize"><span 
class="cmbx-10">timeout </span>- the suite has timed out</li></ul>
<!--l. 225--><p class="indent" >   Default values for these can be set at the site level via the siterc file (see &#x00A0;<span 
class="cmbx-10">??</span>).
<!--l. 228--><p class="indent" >   Item details:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>string (event handler script name)
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>None, unless defined at the site level.
     </li>
     <li class="itemize"><span 
class="cmti-10">example: </span><span class="lstinline"><span 
class="pcrr7t-">startup</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">my</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">handler</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span></span></li></ul>
<!--l. 235--><p class="noindent" >
<!--l. 235--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-239000A.2.8.2"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[event hooks]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">timeout</span></span>
   If a timeout is set and the timeout event is handled, the timeout event handler(s) will be called if the suite times
out before it finishes. The timer is set initially at suite start up. It is possible to set a default for this at the site level
(see &#x00A0;<span 
class="cmbx-10">??</span>).
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>ISO 8601 duration/interval representation (e.g. <span class="lstinline"><span 
class="pcrr7t-">PT5S</span></span>, 5 seconds, <span class="lstinline"><span 
class="pcrr7t-">PT1S</span></span>, 1 second) - minimum 0
     seconds.
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>(none), unless set at the site level.</li></ul>
<!--l. 248--><p class="noindent" >
<!--l. 248--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-240000A.2.8.3"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[event hooks]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">reset timer</span></span>
   If <span class="lstinline"><span 
class="pcrr7t-">True</span></span> (the default) the suite timer will continually reset after any task changes state, so you can
time out after some interval since the last activity occured rather than on absolute suite execution
time.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>True</li></ul>
                                                                                         

                                                                                         
<!--l. 260--><p class="noindent" >
<!--l. 260--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-241000A.2.8.4"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[event hooks]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">abort on timeout</span></span>
   If a suite timer is set (above) this will cause the suite to abort with error status if the suite times out while still
running. It is possible to set a default for this at the site level (see &#x00A0;<span 
class="cmbx-10">??</span>).
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>False, unless set at the site level.</li></ul>
<!--l. 271--><p class="noindent" >
<!--l. 271--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-242000A.2.8.5"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[event hooks]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">abort if EVENT handler fails</span></span>
   Cylc does not normally care whether an event handler succeeds or fails, but if this is turned on the EVENT
handler will be executed in the foreground (which will block the suite while it is running) and the suite will abort if
the handler fails.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>False</li></ul>
<!--l. 283--><p class="noindent" >
<!--l. 283--><p class="indent" >    <h4 id="A.2.9" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.9"> A.2.9</a>  <a 
 id="x18-243000A.2.9"></a>[cylc] <span 
class="cmsy-10">&#x2192; </span>[[environment]] </span></h4>
<!--l. 285--><p class="indent" >   Environment variables defined in this section are passed to suite and task event handlers.
     <ul class="itemize1">
     <li class="itemize">These variables are not passed to tasks - use task runtime variables for that. Similarly, task runtime
     variables are not available to event handlers - which are executed by the suite daemon, (not by running
     tasks) in response to task events.
     </li>
     <li class="itemize">Cylc-defined environment variables such as <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_RUN_DIR</span></span> are not passed to task event handlers by
     default, but you can make them available by extracting them to the cylc environment like this:
     <!--l. 298-->
     <div class="lstlisting" id="listing-246"><span class="label"><a 
 id="x18-243001r1"></a></span><span 
class="pcrr7t-">[</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x18-243002r2"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">[[</span><span 
class="pcrr7t-">environment</span><span 
class="pcrr7t-">]]</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x18-243003r3"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">CYLC_SUITE_RUN_DIR</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_SUITE_RUN_DIR</span>
     
     </div>
     </li>
     <li class="itemize">These variables - unlike task execution environment variables which are written to job scripts and interpreted
     by the shell at task run time - are not interpreted by the shell prior to use so shell variable expansion
     expressions cannot be used here.</li></ul>
                                                                                         

                                                                                         
<!--l. 310--><p class="noindent" >
<!--l. 310--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-244000A.2.9.1"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[environment]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">_</span><span 
class="cmbx-10">_VARIABLE</span><span 
class="cmbx-10">_</span><span 
class="cmbx-10">_</span></span>
   Replace __VARIABLE__ with any number of environment variable assignment expressions. Values may refer to
other local environment variables (order of definition is preserved) and are not evaluated or manipulated by
cylc, so any variable assignment expression that is legal in the shell in which cylc is running can be
used (but see the warning above on variable expansions, which will not be evaluated). White space
around the &#8216;=&#8217; is allowed (as far as cylc&#8217;s file parser is concerned these are just suite configuration
items).
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>string
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>(none)
     </li>
     <li class="itemize"><span 
class="cmti-10">examples:</span>
         <ul class="itemize2">
         <li class="itemize"><span class="lstinline"><span 
class="pcrr7t-">FOO</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">foo</span></span></li></ul>
     </li></ul>
<!--l. 332--><p class="noindent" >
<!--l. 332--><p class="indent" >    <h4 id="A.2.10" class="subsubsectionHead"><span class="titlemark"> <a href="#A.2.10"> A.2.10</a>  <a 
 id="x18-245000A.2.10"></a>[cylc] <span 
class="cmsy-10">&#x2192; </span>[[reference test]]  </span></h4>
<!--l. 335--><p class="indent" >   Reference tests are finite-duration suite runs that abort with non-zero exit status if cylc fails, if any task fails, if
the suite times out, or if a shutdown event handler that (by default) compares the test run with a reference run
reports failure. See&#x00A0;<a 
href="cug-htmlse12.html#x13-19100012.22">12.22<!--tex4ht:ref: AutoRefTests --></a>.
<!--l. 340--><p class="noindent" >
<!--l. 340--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-246000A.2.10.1"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[reference test]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">suite shutdown event handler</span></span>
   A shutdown event handler that should compare the test run with the reference run, exiting with zero exit status
only if the test run verifies.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>string (event handler command name or path)
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span><span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">hook</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">triggering</span></span></li></ul>
<!--l. 350--><p class="noindent" >As for any event handler, the full path can be ommited if the script is located somewhere in <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span></span> or in the suite bin
directory.
<!--l. 353--><p class="noindent" >
<!--l. 353--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-247000A.2.10.2"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[reference test]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">required run mode</span></span>
   If your reference test is only valid for a particular run mode, this setting will cause cylc to abort if a reference
test is attempted in another run mode.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>string
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span 
class="cmti-10">legal values: </span>live, dummy, simulation
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>None</li></ul>
<!--l. 365--><p class="noindent" >
<!--l. 365--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-248000A.2.10.3"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[reference test]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">allow task failures</span></span>
   A reference test run will abort immediately if any task fails, unless this item is set, or a list of <span 
class="cmti-10">expected task</span>
<span 
class="cmti-10">failures </span>is provided (below).
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>boolean
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>False</li></ul>
<!--l. 376--><p class="noindent" >
<!--l. 376--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-249000A.2.10.4"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[reference test]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">expected task failures</span></span>
   A reference test run will abort immediately if any task fails, unless <span 
class="cmti-10">allow task failures </span>is set (above) or the failed
task is found in a list IDs of tasks that are expected to fail.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>Comma-separated list of strings (task IDs: <span class="lstinline"><span 
class="pcrr7t-">name</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">cycle_point</span></span>).
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>(none)
     </li>
     <li class="itemize"><span 
class="cmti-10">example: </span><span class="lstinline"><span 
class="pcrr7t-">foo</span><span 
class="pcrr7t-">.20120808,</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">bar</span><span 
class="pcrr7t-">.20120908</span></span></li></ul>
<!--l. 388--><p class="noindent" >
<!--l. 388--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-250000A.2.10.5"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[reference test]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">live mode suite timeout</span></span>
   The timeout value, expressed as an ISO 8601 duration/interval, after which the test run should be aborted if it
has not finished, in live mode. Test runs cannot be done in live mode unless you define a value for this item, because
it is not possible to arrive at a sensible default for all suites.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmti-10">type: </span>ISO 8601 duration/interval representation (e.g. <span class="lstinline"><span 
class="pcrr7t-">PT5M</span></span>, 5 minutes (note: by contrast, <span class="lstinline"><span 
class="pcrr7t-">P5M</span></span> means
     5 months, so remember the <span class="lstinline"><span 
class="pcrr7t-">T</span></span>!)).
     </li>
     <li class="itemize"><span 
class="cmti-10">default: </span>PT1M (1 minute)</li></ul>
<!--l. 402--><p class="noindent" >
<!--l. 402--><p class="noindent" ><span class="paragraphHead"><a 
 id="x18-251000A.2.10.6"></a><span 
class="cmbx-10">[cylc] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">[[reference test]] </span><span 
class="cmsy-10">&#x2192; </span><span 
class="cmbx-10">simulation mode suite timeout</span></span>
   The timeout value in minutes after which the test run should be aborted if it has not finished, in simulation
mode. Test runs cannot be done in simulation mode unless you define a value for this item, because it is not possible
to arrive at a sensible default for all suites.
                                                                                         


